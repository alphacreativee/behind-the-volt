let sampleData={features:[{properties:{name:"UK",latitude:55.3781,longitude:-3.436,pop_max:6733e4,region:"uk"}},{properties:{name:"Spain",latitude:40.4637,longitude:-3.7492,pop_max:4736e4,region:"spain"}},{properties:{name:"KSA",latitude:24.7136,longitude:46.6753,pop_max:3481e4,region:"ksa"}},{properties:{name:"USA - Florida",latitude:27.9944,longitude:-81.7603,pop_max:2154e4,region:"usa-florida"}},{properties:{name:"VietNam",latitude:14.0583,longitude:108.2772,pop_max:9747e4,region:"vietnam"}},{properties:{name:"UAE: Dubai",latitude:25.2048,longitude:55.2708,pop_max:35e5,region:"dubai"}},{properties:{name:"Abu Dhabi",latitude:24.4539,longitude:54.3773,pop_max:15e5,region:"abu-dhabi"}},{properties:{name:"Singapore",latitude:1.3521,longitude:103.8198,pop_max:57e5,region:"singapore"}},{properties:{name:"Australia",latitude:-35.2809,longitude:149.13,pop_max:26e6,region:"australia"}},{properties:{name:"South Africa",latitude:-25.7479,longitude:28.2293,pop_max:6e7,region:"south-africa"}}]},globe,allPlaces=sampleData;function moveToRegion(i){var e,t;globe?(e=allPlaces.features.filter(e=>e.properties.region===i),console.log("Moving to region:",i,e),0===e.length?console.warn("No regions found for:",i):({latitude:e,longitude:t}=e[0].properties,globe.pointOfView({lat:e,lng:t,altitude:1.8},2e3))):console.error("Globe is not initialized")}function resetView(){globe?(["filter-uk","filter-spain","filter-ksa","filter-usa-florida","filter-vietnam"].forEach(e=>{document.getElementById(e).checked=!1}),globe.pointOfView({lat:0,lng:0,altitude:1.5},2e3)):console.error("Globe is not initialized")}function handleRegionChange(i,e){document.getElementById(i).checked?(["filter-uk","filter-spain","filter-ksa","filter-usa-florida","filter-vietnam","filter-dubai","filter-dhabi","filter-singapore","filter-australia","filter-south-africa"].forEach(e=>{e!==i&&(document.getElementById(e).checked=!1)}),moveToRegion(e)):resetView()}function initGlobe(e){console.log("Initializing Globe with Places:",e.features);let i=document.getElementById("globeViz");var t,o;console.log("Globe Container Size:",i.getBoundingClientRect()),i&&0!==i.getBoundingClientRect().width&&0!==i.getBoundingClientRect().height?(t=.7*window.innerWidth,o=window.innerHeight,(globe=Globe()(i).globeImageUrl("//cdn.jsdelivr.net/npm/three-globe/example/img/earth-night.jpg").width(t).height(o).backgroundColor("rgba(0,0,0,0)").atmosphereColor("white").htmlElementsData(e.features).htmlLat(e=>e.properties.latitude).htmlLng(e=>e.properties.longitude).htmlElement(e=>{var i=document.createElement("div");i.innerHTML=`
        <div style="
          background: #00ffff;
          color: #000;
          padding: 4px 12px;
          font-family: 'Poppins', sans-serif;
          font-size: 12px;
          font-weight: 400;
          white-space: nowrap;
          box-shadow: 0 2px 8px rgba(0, 255, 255, 0.3);
          border: 1px solid rgba(255, 255, 255, 0.2);
          backdrop-filter: blur(4px);   
          clip-path: polygon(0px 0px, 100% 0px, 100% 100%, 10px 100%, 0px 20px);     
          text-align: center;
          cursor: pointer;
          transition: all 0.3s ease;
        ">${e.properties.name}</div>
      `;let t=i.firstElementChild;return t.addEventListener("mouseenter",()=>{t.style.transform="scale(1.1)",t.style.boxShadow="0 4px 16px rgba(0, 255, 255, 0.5)"}),t.addEventListener("mouseleave",()=>{t.style.transform="scale(1)",t.style.boxShadow="0 2px 8px rgba(0, 255, 255, 0.3)"}),i}).htmlAltitude(()=>.02))?(["wheel","mousewheel"].forEach(e=>{i.addEventListener(e,e=>{e.preventDefault()},{passive:!1})}),globe.pointOfView({lat:0,lng:0,altitude:1.8},0),globe.controls&&void 0!==globe.controls().enableZoom&&(globe.controls().enableZoom=!1),setupFilterEventListeners()):console.error("Failed to initialize Globe")):console.error("Globe container has zero size or is not found")}function setupFilterEventListeners(){[{id:"filter-uk",region:"uk"},{id:"filter-spain",region:"spain"},{id:"filter-ksa",region:"ksa"},{id:"filter-usa-florida",region:"usa-florida"},{id:"filter-vietnam",region:"vietnam"},{id:"filter-dubai",region:"dubai"},{id:"filter-dhabi",region:"abu-dhabi"},{id:"filter-singapore",region:"singapore"},{id:"filter-australia",region:"australia"},{id:"filter-south-africa",region:"south-africa"}].forEach(({id:e,region:i})=>{document.getElementById(e).addEventListener("change",function(){console.log(e+" changed:",this.checked),handleRegionChange(e,i)})})}document.addEventListener("DOMContentLoaded",()=>{initGlobe(sampleData),setTimeout(()=>{globe&&moveToRegion("uk")},1e3)});