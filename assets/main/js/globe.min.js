let sampleData={features:[{properties:{name:"UK",latitude:55.3781,longitude:-3.436,pop_max:6733e4,region:"uk"}},{properties:{name:"Spain",latitude:40.4637,longitude:-3.7492,pop_max:4736e4,region:"spain"}},{properties:{name:"KSA",latitude:24.7136,longitude:46.6753,pop_max:3481e4,region:"ksa"}},{properties:{name:"USA - Florida",latitude:27.9944,longitude:-81.7603,pop_max:2154e4,region:"usa-florida"}},{properties:{name:"VietNam",latitude:14.0583,longitude:108.2772,pop_max:9747e4,region:"vietnam"}},{properties:{name:"UAE: Dubai",latitude:25.2048,longitude:55.2708,pop_max:35e5,region:"dubai"}},{properties:{name:"Abu Dhabi",latitude:24.4539,longitude:54.3773,pop_max:15e5,region:"abu-dhabi"}},{properties:{name:"Singapore",latitude:1.3521,longitude:103.8198,pop_max:57e5,region:"singapore"}},{properties:{name:"Australia",latitude:-35.2809,longitude:149.13,pop_max:26e6,region:"australia"}},{properties:{name:"South Africa",latitude:-25.7479,longitude:28.2293,pop_max:6e7,region:"south-africa"}}]},globe,allPlaces=sampleData;function moveToRegion(t){var e,i;globe?(e=allPlaces.features.filter(e=>e.properties.region===t),console.log("Moving to region:",t,e),0===e.length?console.warn("No regions found for:",t):({latitude:e,longitude:i}=e[0].properties,globe.pointOfView({lat:e,lng:i,altitude:1.8},2e3))):console.error("Globe is not initialized")}function resetView(){globe?(["filter-uk","filter-spain","filter-ksa","filter-usa-florida","filter-vietnam"].forEach(e=>{document.getElementById(e).checked=!1}),globe.pointOfView({lat:0,lng:0,altitude:1.5},2e3)):console.error("Globe is not initialized")}function handleRegionChange(t,e){document.getElementById(t).checked?(["filter-uk","filter-spain","filter-ksa","filter-usa-florida","filter-vietnam","filter-dubai","filter-dhabi","filter-singapore","filter-australia","filter-south-africa"].forEach(e=>{e!==t&&(document.getElementById(e).checked=!1)}),moveToRegion(e)):resetView()}function initGlobe(e){console.log("Initializing Globe with Places:",e.features);let t=document.getElementById("globeViz");var i,o;console.log("Globe Container Size:",t.getBoundingClientRect()),t&&0!==t.getBoundingClientRect().width&&0!==t.getBoundingClientRect().height?(i=.7*window.innerWidth,o=window.innerHeight,(globe=Globe()(t).globeImageUrl("//cdn.jsdelivr.net/npm/three-globe/example/img/earth-night.jpg").width(i).height(o).backgroundColor("rgba(0,0,0,0)").atmosphereColor("white").htmlElementsData(e.features).htmlLat(e=>e.properties.latitude).htmlLng(e=>e.properties.longitude).labelSize(e=>4e-4*Math.sqrt(e.properties.pop_max)).labelDotRadius(e=>4e-4*Math.sqrt(e.properties.pop_max)).htmlElement(e=>{var t=document.createElement("div");t.innerHTML=`
        <div class="dot-name" style="
    
        ">${e.properties.name}</div>
      `;let i=t.firstElementChild;return i.addEventListener("mouseenter",()=>{i.style.transform="scale(1.3) translateY(-12px)",i.style.boxShadow="0 4px 16px rgba(0, 255, 255, 0.7)",i.style.zIndex="1000"}),i.addEventListener("mouseleave",()=>{i.style.transform="scale(1) translateY(-12px)",i.style.boxShadow="0 2px 8px rgba(0, 255, 255, 0.3)",i.style.zIndex="1"}),t}).htmlAltitude(()=>.02))?(["wheel","mousewheel"].forEach(e=>{t.addEventListener(e,e=>{e.preventDefault()},{passive:!1})}),globe.pointOfView({lat:0,lng:0,altitude:1.8},0),globe.controls&&void 0!==globe.controls().enableZoom&&(globe.controls().enableZoom=!1),setupFilterEventListeners()):console.error("Failed to initialize Globe")):console.error("Globe container has zero size or is not found")}function setupFilterEventListeners(){[{id:"filter-uk",region:"uk"},{id:"filter-spain",region:"spain"},{id:"filter-ksa",region:"ksa"},{id:"filter-usa-florida",region:"usa-florida"},{id:"filter-vietnam",region:"vietnam"},{id:"filter-dubai",region:"dubai"},{id:"filter-dhabi",region:"abu-dhabi"},{id:"filter-singapore",region:"singapore"},{id:"filter-australia",region:"australia"},{id:"filter-south-africa",region:"south-africa"}].forEach(({id:e,region:t})=>{document.getElementById(e).addEventListener("change",function(){console.log(e+" changed:",this.checked),handleRegionChange(e,t)})})}document.addEventListener("DOMContentLoaded",()=>{initGlobe(sampleData),setTimeout(()=>{globe&&moveToRegion("uk")},1e3)});