import{preloadImages}from"../../libs/utils.js";function sectionAbout(){var e=document.querySelectorAll(".horizontal-cards");e.length&&e.forEach((o,e)=>{let i=o.querySelector(".horizontal-cards .list-item");if(i){let r=()=>{var e=o.querySelectorAll(".horizontal-cards .card-item");return Array.from(e).reduce((e,t)=>e+t.offsetHeight,0)};l=i.scrollWidth,a=window.innerWidth<1600?80:0;let t=l-window.innerWidth+a+100;(e=>{let t=o.nextElementSibling;t&&t.classList.contains("horizontal-spacer")||((t=document.createElement("div")).classList.add("horizontal-spacer"),o.insertAdjacentElement("afterend",t));r();t.style.height=e+"px"})(t);l=i,a=t;var n,l=gsap.to(l,{x:-a,duration:3,ease:"none"}),a=(a=t,n=991<window.innerWidth,ScrollTrigger.create({trigger:o,start:"top 20%",end:"+="+a,pin:n,animation:l,scrub:1,pinSpacing:!1,id:"aboutScroll-"+e}),ScrollTrigger.getById("aboutScroll-"+e));a&&(gsap.from(o.querySelectorAll(".card-item"),{yPercent:20,opacity:0,rotate:10,ease:"power2.out",stagger:{each:.3,from:"start"},scrollTrigger:{trigger:o,start:"top 60%",toggleActions:"play none none none"}}),o.querySelectorAll(".about-cards .card-item img").forEach(e=>{gsap.fromTo(e,{xPercent:-10,ease:"none"},{xPercent:10,ease:"none",scrollTrigger:{trigger:o,start:"top 20%",end:"+="+t,scrub:!0}})}))}})}function ourPromise(){$(".our-promise").length<1||$(".our-promise .item-line").each(function(){var e=this,t=e.getContext("2d"),r=$(e).parent(),o=r[0].offsetWidth-10,r=r[0].offsetHeight-10,i=r-80;e.width=o,e.height=r,t.clearRect(0,0,o,r),t.strokeStyle="#00FFFF",t.lineWidth=2,t.beginPath(),t.moveTo(2,0),t.lineTo(2,i),t.lineTo(110,r-2),t.lineTo(o,r-2),t.stroke()})}function ourExpertise(){$(".our-expertise").length<1||$(".our-expertise .expertise-line").each(function(){var e=this,t=e.getContext("2d"),r=$(e).parent(),o=r[0].offsetWidth-10,r=r[0].offsetHeight-10,i=r-80;e.width=o,e.height=r,t.clearRect(0,0,o,r),t.strokeStyle="#00FFFF",t.lineWidth=2,t.beginPath(),t.moveTo(47.5,110),t.lineTo(47.5,i),t.lineTo(110,r-2),t.lineTo(o,r-2),t.stroke()})}let init=()=>{gsap.registerPlugin(ScrollTrigger),sectionAbout(),ourPromise(),ourExpertise()};preloadImages("img").then(()=>{init()}),$(window).on("beforeunload",function(){$(window).scrollTop(0)});