import{preloadImages}from"../../libs/utils.js";function pinEl(){if($(".pin-el .pin-el-description .pin-el-line").each(function(){var e=this,i=e.getContext("2d"),t=$(e).parent(),l=t[0].offsetWidth,t=t[0].offsetHeight,n=t-60;e.width=l,e.height=t,i.clearRect(0,0,l,t),i.strokeStyle="#00FFFF",i.lineWidth=2,i.beginPath(),i.moveTo(2,0),i.lineTo(2,n),i.lineTo(60,t-2),i.lineTo(l,t-2),i.stroke()}),!(window.innerWidth<991||(gsap.registerPlugin(ScrollTrigger),$(".pin-el").length<1))){var n=document.querySelector(".pin-el-left");let e=document.querySelector(".pin-el-right"),i=e.querySelectorAll(".pin-el-box");let t=1<i.length?84*i.length:0,l=n.querySelectorAll(".pin-el-title");l[0].classList.add("active"),gsap.to(".pin-el-left",{scrollTrigger:{trigger:n,start:"top 35%",end:()=>"+="+(e.offsetHeight-t-24),pin:!0,pinSpacing:!1,onUpdate:e=>{e=e.progress,e=Math.floor(e*i.length);let t=Math.min(e,i.length-1);l.forEach((e,i)=>{i===t?e.classList.add("active"):e.classList.remove("active")})}}})}}function serviceDetail(){$(".service-detail").length<1||$(".service-detail .item-line").each(function(){var e=this,i=e.getContext("2d"),t=$(e).parent(),l=t[0].offsetWidth,t=t[0].offsetHeight,n=t-60;e.width=l,e.height=t,i.clearRect(0,0,l,t),i.strokeStyle="#00FFFF",i.lineWidth=2,i.beginPath(),i.moveTo(2,0),i.lineTo(2,n),i.lineTo(60,t-2),i.lineTo(l,t-2),i.stroke()})}let init=()=>{gsap.registerPlugin(ScrollTrigger),pinEl(),serviceDetail()},isLinkClicked=(preloadImages("img").then(()=>{init()}),!1);$("a").on("click",function(e){!this.href||this.href.match(/^#/)||this.href.match(/^javascript:/)||(isLinkClicked=!0,console.log("1"))}),$(window).on("beforeunload",function(){isLinkClicked||$(window).scrollTop(0),isLinkClicked=!1});