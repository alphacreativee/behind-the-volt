import{preloadImages}from"../../libs/utils.js";function pinEl(){gsap.registerPlugin(ScrollTrigger);var e=document.querySelector(".pin-el-left");let l=document.querySelector(".pin-el-right"),i=l.querySelectorAll(".pin-el-box");let t=1<i.length?84*i.length:0,r=e.querySelectorAll(".pin-el-title");r[0].classList.add("active"),gsap.to(".pin-el-left",{scrollTrigger:{trigger:e,start:"top 35%",end:()=>"+="+(l.offsetHeight-t-24),pin:!0,pinSpacing:!1,onUpdate:e=>{e=e.progress,e=Math.floor(e*i.length);let t=Math.min(e,i.length-1);r.forEach((e,l)=>{l===t?e.classList.add("active"):e.classList.remove("active")})}}})}let init=()=>{gsap.registerPlugin(ScrollTrigger),pinEl()};preloadImages("img").then(()=>{init()}),$(window).on("beforeunload",function(){$(window).scrollTop(0)});