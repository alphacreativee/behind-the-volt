import{preloadImages}from"../../libs/utils.js";function pinEl(){if($(".pin-el .pin-el-description .pin-el-line").each(function(){var e=this,t=e.getContext("2d"),i=$(e).parent(),l=i[0].offsetWidth,i=i[0].offsetHeight,n=i-60;e.width=l,e.height=i,t.clearRect(0,0,l,i),t.strokeStyle="#00FFFF",t.lineWidth=2,t.beginPath(),t.moveTo(2,0),t.lineTo(2,n),t.lineTo(60,i-2),t.lineTo(l,i-2),t.stroke()}),!(window.innerWidth<991||(gsap.registerPlugin(ScrollTrigger),$(".pin-el").length<1))){var n=document.querySelector(".pin-el-left");let e=document.querySelector(".pin-el-right"),t=e.querySelectorAll(".pin-el-box");let i=1<t.length?84*t.length:0,l=n.querySelectorAll(".pin-el-title");l[0].classList.add("active"),gsap.to(".pin-el-left",{scrollTrigger:{trigger:n,start:"top 35%",end:()=>"+="+(e.offsetHeight-i-24),pin:!0,pinSpacing:!1,onUpdate:e=>{e=e.progress,e=Math.floor(e*t.length);let i=Math.min(e,t.length-1);l.forEach((e,t)=>{t===i?e.classList.add("active"):e.classList.remove("active")})}}})}}function serviceDetail(){$(".service-detail").length<1||$(".service-detail .item-line").each(function(){var e=this,t=e.getContext("2d"),i=$(e).parent(),l=i[0].offsetWidth,i=i[0].offsetHeight,n=i-60;e.width=l,e.height=i,t.clearRect(0,0,l,i),t.strokeStyle="#00FFFF",t.lineWidth=2,t.beginPath(),t.moveTo(2,0),t.lineTo(2,n),t.lineTo(60,i-2),t.lineTo(l,i-2),t.stroke()})}let init=()=>{gsap.registerPlugin(ScrollTrigger),pinEl(),serviceDetail()};preloadImages("img").then(()=>{init()}),$(window).on("beforeunload",function(){$(window).scrollTop(0)});